{% extends 'base.html' %}
{% block content %}

<h2>{{ project.project_title }}</h2>
<p><strong>Description:</strong> {{ project.project_description }}</p>
<p><strong>Status:</strong> {{ project.get_projectStatus_display }}</p>
<p><strong>Priority:</strong> {{ project.get_projectPriority_display }}</p>
<p><strong>Created by:</strong> {{ project.created_by.username }}</p>
<p><strong>Assigned Users:</strong> 
    {% for user in project.assigned_users.all %}
        {{ user.username }}{% if not forloop.last %}, {% endif %}
    {% empty %}
        No users assigned.
    {% endfor %}
</p>

<h3>Comments</h3>
<ul>
    {% for comment in comments %}
    <li>{{ comment.user.username }}: {{ comment.content }} ({{ comment.created_at }})</li>
    {% empty %}
    <li>No comments yet.</li>
    {% endfor %}
</ul>

<form method="post">
    {% csrf_token %}
    {{ comment_form.as_p }}
    <button type="submit" name="comment_submit">Add Comment</button>
</form>

<button type="button" onclick="location.href='{% url 'tasks:assign_users' project.id %}'" class="button-main">Assign Users</button>


{% endblock %}
